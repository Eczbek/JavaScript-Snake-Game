<canvas id=a style="border:1px solid"><script>let b=200,c=10,d=b/c-1,e=0,f,g=[],h,i=[],j=a.getContext('2d'),k='fillStyle',l=m=>j.fillRect(m.n*c,m.o*c,c,c),p=m=>Math.random(document.onkeydown=m=>{q=m.which%7;if('2356'.includes(q))i=[],i[q]=1})*d|0,r=m=>h={n:p(),o:p()};r(f={n:p(setInterval(m=>{s=f.n+(i[5]|0-i[2]|0),t=f.o+(i[6]|0-i[3]|0);g=[f,...g];s==h.n&t==h.o?r(e++):g.pop(g.some(s=>s.n==h.n&s.o==h.o)&&r());s<0|s>d|t<0|t>d|g.some(u=>u.n==s&u.o==t)?(location.reload(),alert(e)):f={n:s,o:t};j.clearRect(0,0,b,b);j[k]='red';l(h);j[k]='green';g.forEach(l);j[k]='lime';l(f)},250)),o:p(a.width=a.height=b)})</script>
